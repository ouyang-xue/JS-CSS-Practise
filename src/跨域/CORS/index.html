<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <script>
        // 创建AJAX的步骤
        /** readyState的可选值：
            0	Uninitialized	初始化状态。XMLHttpRequest 对象已创建或已被 abort() 方法重置。
            1	Open	        open()方法已调用，但是send() 方法未调用。请求还没有被发送。
            2	Sent	        Send()方法已调用，HTTP 请求已发送到 Web 服务器。未接收到响应。
            3	Receiving	    所有响应头部都已经接收到。响应体开始接收但未完成。
            4	Loaded	        HTTP响应已经完全接收。

            status：2XX表明服务器成功地接受了客户端请求；304表示使用缓冲区的数据
        */
        let xhr = new XMLHttpRequest;
        document.cookie = 'cookie test';
        xhr.withCredentials = true;
        xhr.open('PUT', 'http://localhost:4000/getData', true);
        xhr.setRequestHeader('name', 'ouyangxue');
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
                if (xhr.status >= 200 && xhr.status < 300 || xhr.status === 304) {
                    console.log(xhr.response);
                    xhr.getResponseHeader('responseToClient');
                }
            }
        }
        xhr.send();
    </script>
</body>
</html>
