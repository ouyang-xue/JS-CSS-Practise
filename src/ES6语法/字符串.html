<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>字符串</title>
</head>
<body>
    <script>
        let name = 'zhangsan', age = 20;
        let desc = '${name} 今年 ${age} 岁了';
        // 反引号的实现逻辑
        function replace(str) {
            return str.replace(/\$\{([^}]+)\}/g, function (matched, key) {
                // console.log('matched==' + matched); // matched==${name}    matched==${age}
                // console.log('key==' + key);         // key==name           key==age
                // console.log('eval==' + eval(key));  // eval==zhangsan      eval==20
                return eval(key);
            });
        }

        // console.log(eval('name'));  // zhangsan
        // console.log(replace(desc));

        // 带标签的模板字符串就像一个函数调用，参数1是后面所跟文本的数组
        function des(strings, ...rest) {
            console.log(arguments);
            /*  0: ["", " 今年 ", " 岁了"]  这里的""指代${name}前面的空字符串
                1: "zhangsan"
                2: 20
            */
            console.log(strings); // ["", " 今年 ", " 岁了"]
            console.log(rest);    // ["zhangsan", 20]
        }
        let str = des`${name} 今年 ${age} 岁了`;
        console.log(str);

        // 判断一个字符串中是否包含另一个字符串
        let string = 'abcd';
        console.log(string.includes('bc')); // true
        console.log(string.indexOf('bc') !== -1);  // true
    </script>
</body>
</html>
